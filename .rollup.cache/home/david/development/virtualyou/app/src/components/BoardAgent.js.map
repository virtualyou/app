{"version":3,"file":"BoardAgent.js","sourceRoot":"","sources":["BoardAgent.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAC5C,OAAO,WAAW,MAAM,0BAA0B,CAAC;AACnD,OAAO,QAAQ,MAAM,oBAAoB,CAAC;AAC1C,OAAO,WAAW,MAAM,2BAA2B,CAAC;AACpD,OAAO,eAAe,MAAM,iCAAiC,CAAC;AAC9D,OAAO,qBAAqB,MAAM,uCAAuC,CAAC;AAC1E,OAAO,gBAAgB,MAAM,kCAAkC,CAAC;AAChE,OAAO,cAAc,MAAM,gCAAgC,CAAC;AAC5D,OAAO,SAAS,MAAM,8BAA8B,CAAC;AACrD,OAAO,WAAW,MAAM,2BAA2B,CAAC;AACpD,OAAO,mBAAmB,MAAM,mCAAmC,CAAC;AACpE,OAAO,YAAY,MAAM,4BAA4B,CAAC;AACtD,OAAO,WAAW,MAAM,2BAA2B,CAAC;AAGpD,MAAM,UAAU,GAAG,GAAG,EAAE;IACpB,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC3C,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACvC,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACvD,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACzC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACvC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IACvC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,EAAQ,CAAC;IAE3C,SAAS,CAAC,GAAG,EAAE;QACX,MAAM,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC;QACvD,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CACxC,CAAC,QAAQ,EAAE,EAAE;YACT,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACN,MAAM,MAAM,GACR,CAAC,KAAK,CAAC,QAAQ;gBACX,KAAK,CAAC,QAAQ,CAAC,IAAI;gBACnB,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;gBAChC,KAAK,CAAC,OAAO;gBACb,KAAK,CAAC,QAAQ,EAAE,CAAC;YAErB,QAAQ,CAAC,MAAM,CAAC,CAAC;YAEjB,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;gBAClD,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAChC,CAAC;QACL,CAAC,CACJ,CAAC;IACN,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,SAAS,CAAC,GAAG,EAAE;QACX,qBAAqB,CAAC,QAAQ,EAAE;aAC3B,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAA;IACV,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACX,gBAAgB,CAAC,SAAS,EAAE;aACvB,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAA;IACV,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACX,gBAAgB,CAAC,QAAQ,EAAE;aACtB,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAA;IACV,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACX,eAAe,CAAC,QAAQ,EAAE;aACrB,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAA;IACV,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACX,cAAc,CAAC,gBAAgB,EAAE;aAC5B,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC,CAAA;IACV,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACX,WAAW,CAAC,aAAa,EAAE,CAAC,IAAI,CAC5B,CAAC,QAAQ,EAAE,EAAE;YACT,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACN,MAAM,QAAQ,GACV,CAAC,KAAK,CAAC,QAAQ;gBACX,KAAK,CAAC,QAAQ,CAAC,IAAI;gBACnB,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;gBAChC,KAAK,CAAC,OAAO;gBACb,KAAK,CAAC,QAAQ,EAAE,CAAC;YAErB,UAAU,CAAC,QAAQ,CAAC,CAAC;YAErB,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;gBAClD,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAChC,CAAC;QACL,CAAC,CACJ,CAAC;IACN,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAI,CAAC,OAAO,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa,IAAI,CAAC,MAAM,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC;QAChF,OAAO,uCAAqB,CAAC;IACjC,CAAC;IAED,OAAO,CACH,cAAK,SAAS,EAAC,WAAW,YACtB,kBAAQ,SAAS,EAAC,WAAW,aACzB,aAAI,SAAS,EAAC,WAAW,gCAAqB,EAC9C,aAAG,SAAS,EAAC,UAAU,gDAAiC,KAAK,CAAC,QAAQ,uEAC7B,EACzC,KAAC,SAAS,IAAC,IAAI,EAAE,uCAAuC,GAAI,EAC5D,aAAI,SAAS,EAAC,mBAAmB,sBAAW,EAC5C,KAAC,WAAW,IAAC,IAAI,EAAE,KAAK,GAAI,EAC5B,aAAI,SAAS,EAAC,mBAAmB,6BAAkB,EACnD,KAAC,WAAW,IAAC,IAAI,EAAE,KAAK,GAAI,EAC5B,aAAI,SAAS,EAAC,mBAAmB,8BAAmB,EACpD,KAAC,mBAAmB,IAAC,IAAI,EAAE,aAAa,GAAI,EAC5C,aAAI,SAAS,EAAC,mBAAmB,uBAAY,EAC7C,KAAC,YAAY,IAAC,IAAI,EAAE,MAAM,GAAI,EAC9B,aAAI,SAAS,EAAC,mBAAmB,sBAAW,EAC5C,KAAC,WAAW,IAAC,IAAI,EAAE,KAAK,GAAI,IACvB,GACP,CACT,CAAC;AACN,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["/**\n * VirtualYou\n * @license Apache-2.0\n * @author David L Whitehurst\n */\n\nimport { useState, useEffect } from \"react\";\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\nimport PeepDisplay from \"./display/PeepDisplay.tsx\";\nimport PersonalService from '../services/personal.service.ts';\nimport AdministrationService from \"../services/administration.service.ts\";\nimport FinancialService from \"../services/financial.service.ts\";\nimport MedicalService from \"../services/medical.service.ts\";\nimport InfoAlert from \"./notification/InfoAlert.tsx\";\nimport TaskDisplay from \"./display/TaskDisplay.tsx\";\nimport PrescriptionDisplay from \"./display/PrescriptionDisplay.tsx\";\nimport AssetDisplay from \"./display/AssetDisplay.tsx\";\nimport DebtDisplay from \"./display/DebtDisplay.tsx\";\nimport User from \"../types/user.type.ts\";\n\nconst BoardAgent = () => {\n    const [content, setContent] = useState(\"\");\n    const [peeps, setPeeps] = useState([]);\n    const [prescriptions, setPrescriptions] = useState([]);\n    const [assets, setAssets] = useState([]);\n    const [debts, setDebts] = useState([]);\n    const [tasks, setTasks] = useState([]);\n    const [owner, setOwner] = useState<User>();\n\n    useEffect(() => {\n        const ownerid = localStorage.getItem(\"ownerid\") || \"0\";\n        UserService.getOwner(parseInt(ownerid)).then(\n            (response) => {\n                setOwner(response.data);\n            },\n            (error) => {\n                const _owner =\n                    (error.response &&\n                        error.response.data &&\n                        error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n\n                setOwner(_owner);\n\n                if (error.response && error.response.status === 401) {\n                    EventBus.dispatch(\"logout\");\n                }\n            }\n        );\n    }, []);\n\n    useEffect(() => {\n        AdministrationService.getTasks()\n            .then((response) => {\n                setTasks(response.data);\n            })\n    }, [])\n\n    useEffect(() => {\n        FinancialService.getAssets()\n            .then((response) => {\n                setAssets(response.data);\n            })\n    }, [])\n\n    useEffect(() => {\n        FinancialService.getDebts()\n            .then((response) => {\n                setDebts(response.data);\n            })\n    }, [])\n\n    useEffect(() => {\n        PersonalService.getPeeps()\n            .then((response) => {\n                setPeeps(response.data);\n            })\n    }, [])\n\n    useEffect(() => {\n        MedicalService.getPrescriptions()\n            .then((response) => {\n                setPrescriptions(response.data);\n            })\n    }, [])\n\n    useEffect(() => {\n        UserService.getAgentBoard().then(\n            (response) => {\n                setContent(response.data);\n            },\n            (error) => {\n                const _content =\n                    (error.response &&\n                        error.response.data &&\n                        error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n\n                setContent(_content);\n\n                if (error.response && error.response.status === 401) {\n                    EventBus.dispatch(\"logout\");\n                }\n            }\n        );\n    }, []);\n\n    if (!content || !tasks || !peeps || !prescriptions || !assets || !debts || !owner) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <div className=\"container\">\n            <header className=\"jumbotron\">\n                <h1 className=\"display-4\">Agent Dashboard</h1>\n                <p className=\"red-bold\">WARNING: This data is owned by {owner.username}. You are responsible for the\n                    integrity of someone else's data.</p>\n                <InfoAlert note={\"Don't forget to validate medications.\"} />\n                <h3 className=\"font-weight-light\">Tasks</h3>\n                <TaskDisplay data={tasks} />\n                <h3 className=\"font-weight-light\">Key Contacts</h3>\n                <PeepDisplay data={peeps} />\n                <h3 className=\"font-weight-light\">Prescriptions</h3>\n                <PrescriptionDisplay data={prescriptions} />\n                <h3 className=\"font-weight-light\">Assets</h3>\n                <AssetDisplay data={assets} />\n                <h3 className=\"font-weight-light\">Debts</h3>\n                <DebtDisplay data={debts} />\n            </header>\n        </div>\n    );\n};\n\nexport default BoardAgent;\n"]}