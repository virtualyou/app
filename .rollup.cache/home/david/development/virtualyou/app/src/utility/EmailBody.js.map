{"version":3,"file":"EmailBody.js","sourceRoot":"","sources":["EmailBody.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,WAAW,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,MAAM,YAAY,CAAC;AAE/B;;;;;GAKG;AACH,MAAM,UAAU,YAAY,CAAC,IAAY;IACrC,MAAM,WAAW,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC;IACjD,MAAM,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;IAC1B,MAAM,QAAQ,GAAG,WAAW,CAAC,aAAa,CAAC;IAC3C,MAAM,MAAM,GAAG,WAAW,CAAC,QAAQ,CAAC;IACpC,MAAM,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACpC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACpB,MAAM,IAAI,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;IACjC,MAAM,OAAO,GAAG,uBAAuB,GAAG,0BAA0B,GAAG,EAAE,GAAG,QAAQ,GAAG,IAAI,CAAC;IAE5F,OAAO,IAAI,GAAG,gDAAgD,GAAG,MAAM,GAAG,gDAAgD,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;AAC5J,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,cAAc,CAAC,IAAY;IACvC,MAAM,WAAW,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC;IACjD,MAAM,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;IAC1B,MAAM,UAAU,GAAG,WAAW,CAAC,eAAe,CAAC;IAC/C,MAAM,MAAM,GAAG,WAAW,CAAC,QAAQ,CAAC;IACpC,MAAM,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACpC,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IACtB,MAAM,IAAI,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;IACjC,MAAM,OAAO,GAAG,uBAAuB,GAAG,4BAA4B,GAAG,EAAE,GAAG,QAAQ,GAAG,IAAI,CAAC;IAE9F,OAAO,IAAI,GAAG,iDAAiD,GAAG,MAAM,GAAG,gDAAgD,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;AAC7J,CAAC","sourcesContent":["/**\n * VirtualYou\n * @license Apache-2.0\n * @author David L Whitehurst\n */\n\nimport AuthService from \"../services/auth.service.ts\";\nimport forge from \"node-forge\";\n\n/**\n * This is a function that prepares an AWS SES Agent invitation email body.\n *\n * @param {string} name - The person the email is addressing.\n * @returns {string} The text email body.\n */\nexport function getAgentBody(name: string) {\n    const currentUser = AuthService.getCurrentUser();\n    const id = currentUser.id;\n    const agentMne = currentUser.agentMnemonic;\n    const myName = currentUser.username;\n    const md = forge.md.sha256.create();\n    md.update(agentMne);\n    const dkey = md.digest().toHex();\n    const retLink = \"http://localhost:3000\" + \"/register-agent?ownerid=\" + id + \"&dkey=\" + dkey;\n\n    return name + \",\\n\\nYou have been invited to be an Agent for \" + myName + \". Use this link to register and begin helping \" + myName + \".\\n\\n\" + retLink;\n}\n\n/**\n * This is a function that prepares an AWS SES Monitor invitation email body.\n *\n * @param {string} name - The person the email is addressing.\n * @returns {string} The text email body.\n */\nexport function getMonitorBody(name: string) {\n    const currentUser = AuthService.getCurrentUser();\n    const id = currentUser.id;\n    const monitorMne = currentUser.monitorMnemonic;\n    const myName = currentUser.username;\n    const md = forge.md.sha256.create();\n    md.update(monitorMne);\n    const dkey = md.digest().toHex();\n    const retLink = \"http://localhost:3000\" + \"/register-monitor?ownerid=\" + id + \"&dkey=\" + dkey;\n\n    return name + \",\\n\\nYou have been invited to be a Monitor for \" + myName + \". Use this link to register and begin helping \" + myName + \".\\n\\n\" + retLink;\n}\n"]}