{"version":3,"file":"mail.service.js","sourceRoot":"","sources":["mail.service.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EAAE,GAAG,EAAE,MAAM,qBAAqB,CAAC;AAE1C,OAAO,EAAE,SAAS,EAAE,MAAM,2BAA2B,CAAC;AACtD,OAAO,EAAE,YAAY,EAAE,cAAc,EAAE,MAAM,yBAAyB,CAAA;AAGtE,MAAM,WAAW;IAAjB;QAEI,iBAAiB;QACT;;;;mBAAM,IAAI,GAAG,CAAC;gBAClB,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe;gBACvC,WAAW,EAAE;oBACT,WAAW,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB;oBAChD,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,0BAA0B;iBAC9D;aACJ,CAAC;WAAC;IAmCP,CAAC;IAlCD;;;;;;;;MAQE;IACE,8BAA8B;IAC9B,UAAU,CAAC,QAAoB;QAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC5B,MAAM,MAAM,GAAE,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,6BAA6B,EAAE,qBAAqB,CAAC,CAAC;QAC3H,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAQ,EAAE,IAAS,EAAE,EAAE;YAC/C,IAAI,GAAG,EAAE,CAAC;gBACN,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvB,CAAC;iBAAM,CAAC;gBACJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gCAAgC;IAChC,YAAY,CAAC,QAAoB;QAC7B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC5B,MAAM,MAAM,GAAE,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,+BAA+B,EAAE,qBAAqB,CAAC,CAAC;QAC/H,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAQ,EAAE,IAAS,EAAE,EAAE;YAC/C,IAAI,GAAG,EAAE,CAAC;gBACN,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvB,CAAC;iBAAM,CAAC;gBACJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAED,eAAe,IAAI,WAAW,EAAE,CAAC","sourcesContent":["/**\n * VirtualYou\n * @license Apache-2.0\n * @author David L Whitehurst\n */\n\nimport { SES } from \"@aws-sdk/client-ses\";\n\nimport { getParams } from \"../utility/EmailParams.ts\";\nimport { getAgentBody, getMonitorBody } from \"../utility/EmailBody.ts\"\nimport FormValues from \"../types/formvalues.type.ts\";\n\nclass MailService {\n\n    // AWS SES Client\n    private ses = new SES({\n        region: import.meta.env.VITE_AWS_REGION,\n        credentials: {\n            accessKeyId: import.meta.env.VITE_AWS_ACCESS_KEY,\n            secretAccessKey: import.meta.env.VITE_AWS_SECRET_ACCESS_KEY,\n        }\n    });\n/*\n    private ses = new AWS.SES({\n        region: import.meta.env.VITE_AWS_REGION,\n        credentials: new AWS.Credentials({\n            accessKeyId: import.meta.env.VITE_AWS_ACCESS_KEY,\n            secretAccessKey: import.meta.env.VITE_AWS_SECRET_ACCESS_KEY,\n        }),\n    });\n*/\n    // Send Agent Invitation Email\n    emailAgent(formData: FormValues) {\n        console.log(formData.email);\n        const params= getParams(formData.email, getAgentBody(formData.name), \"VirtualYou Agent Invitation\", \"me@dlwhitehurst.com\");\n        this.ses.sendEmail(params, (err: any, data: any) => {\n            if (err) {\n                console.error(err);\n            } else {\n                console.log(data);\n            }\n        });\n    }\n\n    // Send Monitor Invitation Email\n    emailMonitor(formData: FormValues) {\n        console.log(formData.email);\n        const params= getParams(formData.email, getMonitorBody(formData.name), \"VirtualYou Monitor Invitation\", \"me@dlwhitehurst.com\");\n        this.ses.sendEmail(params, (err: any, data: any) => {\n            if (err) {\n                console.error(err);\n            } else {\n                console.log(data);\n            }\n        });\n    }\n}\n\nexport default new MailService();"]}